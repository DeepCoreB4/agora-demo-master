(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c6bb24"],{"0d3b":function(e,n,t){var a=t("d039"),i=t("b622"),r=t("c430"),s=i("iterator");e.exports=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),n=e.searchParams,t="";return e.pathname="c%20d",n.forEach((function(e,a){n["delete"]("b"),t+=a+e})),r&&!e.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==t||"x"!==new URL("http://x",void 0).host}))},"129f":function(e,n){e.exports=Object.is||function(e,n){return e===n?0!==e||1/e===1/n:e!=e&&n!=n}},"2b3d":function(e,n,t){"use strict";t("3ca3");var a,i=t("23e7"),r=t("83ab"),s=t("0d3b"),o=t("da84"),c=t("37e8"),l=t("6eeb"),u=t("19aa"),p=t("5135"),h=t("60da"),f=t("4df4"),g=t("6547").codeAt,d=t("5fb2"),_=t("d44e"),m=t("9861"),v=t("69f3"),b=o.URL,A=m.URLSearchParams,y=m.getState,w=v.set,k=v.getterFor("URL"),P=Math.floor,$=Math.pow,S="Invalid authority",x="Invalid scheme",R="Invalid host",U="Invalid port",C=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,I=/\d/,G=/^(0x|0X)/,j=/^[0-7]+$/,q=/^\d+$/,O=/^[\dA-Fa-f]+$/,B=/[\0\t\n\r #%/:?@[\\]]/,D=/[\0\t\n\r #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\t\n\r]/g,E=function(e,n){var t,a,i;if("["==n.charAt(0)){if("]"!=n.charAt(n.length-1))return R;if(t=M(n.slice(1,-1)),!t)return R;e.host=t}else if(K(e)){if(n=d(n),B.test(n))return R;if(t=T(n),null===t)return R;e.host=t}else{if(D.test(n))return R;for(t="",a=f(n),i=0;i<a.length;i++)t+=Z(a[i],J);e.host=t}},T=function(e){var n,t,a,i,r,s,o,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),n=c.length,n>4)return e;for(t=[],a=0;a<n;a++){if(i=c[a],""==i)return e;if(r=10,i.length>1&&"0"==i.charAt(0)&&(r=G.test(i)?16:8,i=i.slice(8==r?1:2)),""===i)s=0;else{if(!(10==r?q:8==r?j:O).test(i))return e;s=parseInt(i,r)}t.push(s)}for(a=0;a<n;a++)if(s=t[a],a==n-1){if(s>=$(256,5-n))return null}else if(s>255)return null;for(o=t.pop(),a=0;a<t.length;a++)o+=t[a]*$(256,3-a);return o},M=function(e){var n,t,a,i,r,s,o,c=[0,0,0,0,0,0,0,0],l=0,u=null,p=0,h=function(){return e.charAt(p)};if(":"==h()){if(":"!=e.charAt(1))return;p+=2,l++,u=l}while(h()){if(8==l)return;if(":"!=h()){n=t=0;while(t<4&&O.test(h()))n=16*n+parseInt(h(),16),p++,t++;if("."==h()){if(0==t)return;if(p-=t,l>6)return;a=0;while(h()){if(i=null,a>0){if(!("."==h()&&a<4))return;p++}if(!I.test(h()))return;while(I.test(h())){if(r=parseInt(h(),10),null===i)i=r;else{if(0==i)return;i=10*i+r}if(i>255)return;p++}c[l]=256*c[l]+i,a++,2!=a&&4!=a||l++}if(4!=a)return;break}if(":"==h()){if(p++,!h())return}else if(h())return;c[l++]=n}else{if(null!==u)return;p++,l++,u=l}}if(null!==u){s=l-u,l=7;while(0!=l&&s>0)o=c[l],c[l--]=c[u+s-1],c[u+--s]=o}else if(8!=l)return;return c},V=function(e){for(var n=null,t=1,a=null,i=0,r=0;r<8;r++)0!==e[r]?(i>t&&(n=a,t=i),a=null,i=0):(null===a&&(a=r),++i);return i>t&&(n=a,t=i),n},z=function(e){var n,t,a,i;if("number"==typeof e){for(n=[],t=0;t<4;t++)n.unshift(e%256),e=P(e/256);return n.join(".")}if("object"==typeof e){for(n="",a=V(e),t=0;t<8;t++)i&&0===e[t]||(i&&(i=!1),a===t?(n+=t?":":"::",i=!0):(n+=e[t].toString(16),t<7&&(n+=":")));return"["+n+"]"}return e},J={},H=h({},J,{" ":1,'"':1,"<":1,">":1,"`":1}),Q=h({},H,{"#":1,"?":1,"{":1,"}":1}),Y=h({},Q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,n){var t=g(e,0);return t>32&&t<127&&!p(n,e)?e:encodeURIComponent(e)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(e){return p(X,e.scheme)},W=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ne=function(e,n){var t;return 2==e.length&&C.test(e.charAt(0))&&(":"==(t=e.charAt(1))||!n&&"|"==t)},te=function(e){var n;return e.length>1&&ne(e.slice(0,2))&&(2==e.length||"/"===(n=e.charAt(2))||"\\"===n||"?"===n||"#"===n)},ae=function(e){var n=e.path,t=n.length;!t||"file"==e.scheme&&1==t&&ne(n[0],!0)||n.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},re=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},se={},oe={},ce={},le={},ue={},pe={},he={},fe={},ge={},de={},_e={},me={},ve={},be={},Ae={},ye={},we={},ke={},Pe={},$e={},Se={},xe=function(e,n,t,i){var r,s,o,c,l=t||se,u=0,h="",g=!1,d=!1,_=!1;t||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,n=n.replace(F,"")),n=n.replace(N,""),r=f(n);while(u<=r.length){switch(s=r[u],l){case se:if(!s||!C.test(s)){if(t)return x;l=ce;continue}h+=s.toLowerCase(),l=oe;break;case oe:if(s&&(L.test(s)||"+"==s||"-"==s||"."==s))h+=s.toLowerCase();else{if(":"!=s){if(t)return x;h="",l=ce,u=0;continue}if(t&&(K(e)!=p(X,h)||"file"==h&&(W(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,t)return void(K(e)&&X[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=be:K(e)&&i&&i.scheme==e.scheme?l=le:K(e)?l=fe:"/"==r[u+1]?(l=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Pe)}break;case ce:if(!i||i.cannotBeABaseURL&&"#"!=s)return x;if(i.cannotBeABaseURL&&"#"==s){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=Se;break}l="file"==i.scheme?be:pe;continue;case le:if("/"!=s||"/"!=r[u+1]){l=pe;continue}l=ge,u++;break;case ue:if("/"==s){l=de;break}l=ke;continue;case pe:if(e.scheme=i.scheme,s==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==s||"\\"==s&&K(e))l=he;else if("?"==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=$e;else{if("#"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=ke;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Se}break;case he:if(!K(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=ke;continue}l=de}else l=ge;break;case fe:if(l=ge,"/"!=s||"/"!=h.charAt(u+1))continue;u++;break;case ge:if("/"!=s&&"\\"!=s){l=de;continue}break;case de:if("@"==s){g&&(h="%40"+h),g=!0,o=f(h);for(var m=0;m<o.length;m++){var v=o[m];if(":"!=v||_){var b=Z(v,Y);_?e.password+=b:e.username+=b}else _=!0}h=""}else if(s==a||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(g&&""==h)return S;u-=f(h).length+1,h="",l=_e}else h+=s;break;case _e:case me:if(t&&"file"==e.scheme){l=ye;continue}if(":"!=s||d){if(s==a||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(K(e)&&""==h)return R;if(t&&""==h&&(W(e)||null!==e.port))return;if(c=E(e,h),c)return c;if(h="",l=we,t)return;continue}"["==s?d=!0:"]"==s&&(d=!1),h+=s}else{if(""==h)return R;if(c=E(e,h),c)return c;if(h="",l=ve,t==me)return}break;case ve:if(!I.test(s)){if(s==a||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)||t){if(""!=h){var A=parseInt(h,10);if(A>65535)return U;e.port=K(e)&&A===X[e.scheme]?null:A,h=""}if(t)return;l=we;continue}return U}h+=s;break;case be:if(e.scheme="file","/"==s||"\\"==s)l=Ae;else{if(!i||"file"!=i.scheme){l=ke;continue}if(s==a)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==s)e.host=i.host,e.path=i.path.slice(),e.query="",l=$e;else{if("#"!=s){te(r.slice(u).join(""))||(e.host=i.host,e.path=i.path.slice(),ae(e)),l=ke;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Se}}break;case Ae:if("/"==s||"\\"==s){l=ye;break}i&&"file"==i.scheme&&!te(r.slice(u).join(""))&&(ne(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=ke;continue;case ye:if(s==a||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&ne(h))l=ke;else if(""==h){if(e.host="",t)return;l=we}else{if(c=E(e,h),c)return c;if("localhost"==e.host&&(e.host=""),t)return;h="",l=we}continue}h+=s;break;case we:if(K(e)){if(l=ke,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=a&&(l=ke,"/"!=s))continue}else e.fragment="",l=Se;else e.query="",l=$e;break;case ke:if(s==a||"/"==s||"\\"==s&&K(e)||!t&&("?"==s||"#"==s)){if(re(h)?(ae(e),"/"==s||"\\"==s&&K(e)||e.path.push("")):ie(h)?"/"==s||"\\"==s&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ne(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(s==a||"?"==s||"#"==s))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==s?(e.query="",l=$e):"#"==s&&(e.fragment="",l=Se)}else h+=Z(s,Q);break;case Pe:"?"==s?(e.query="",l=$e):"#"==s?(e.fragment="",l=Se):s!=a&&(e.path[0]+=Z(s,J));break;case $e:t||"#"!=s?s!=a&&("'"==s&&K(e)?e.query+="%27":e.query+="#"==s?"%23":Z(s,J)):(e.fragment="",l=Se);break;case Se:s!=a&&(e.fragment+=Z(s,H));break}u++}},Re=function(e){var n,t,a=u(this,Re,"URL"),i=arguments.length>1?arguments[1]:void 0,s=String(e),o=w(a,{type:"URL"});if(void 0!==i)if(i instanceof Re)n=k(i);else if(t=xe(n={},String(i)),t)throw TypeError(t);if(t=xe(o,s,null,n),t)throw TypeError(t);var c=o.searchParams=new A,l=y(c);l.updateSearchParams(o.query),l.updateURL=function(){o.query=String(c)||null},r||(a.href=Ce.call(a),a.origin=Le.call(a),a.protocol=Ie.call(a),a.username=Ge.call(a),a.password=je.call(a),a.host=qe.call(a),a.hostname=Oe.call(a),a.port=Be.call(a),a.pathname=De.call(a),a.search=Fe.call(a),a.searchParams=Ne.call(a),a.hash=Ee.call(a))},Ue=Re.prototype,Ce=function(){var e=k(this),n=e.scheme,t=e.username,a=e.password,i=e.host,r=e.port,s=e.path,o=e.query,c=e.fragment,l=n+":";return null!==i?(l+="//",W(e)&&(l+=t+(a?":"+a:"")+"@"),l+=z(i),null!==r&&(l+=":"+r)):"file"==n&&(l+="//"),l+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==o&&(l+="?"+o),null!==c&&(l+="#"+c),l},Le=function(){var e=k(this),n=e.scheme,t=e.port;if("blob"==n)try{return new Re(n.path[0]).origin}catch(a){return"null"}return"file"!=n&&K(e)?n+"://"+z(e.host)+(null!==t?":"+t:""):"null"},Ie=function(){return k(this).scheme+":"},Ge=function(){return k(this).username},je=function(){return k(this).password},qe=function(){var e=k(this),n=e.host,t=e.port;return null===n?"":null===t?z(n):z(n)+":"+t},Oe=function(){var e=k(this).host;return null===e?"":z(e)},Be=function(){var e=k(this).port;return null===e?"":String(e)},De=function(){var e=k(this),n=e.path;return e.cannotBeABaseURL?n[0]:n.length?"/"+n.join("/"):""},Fe=function(){var e=k(this).query;return e?"?"+e:""},Ne=function(){return k(this).searchParams},Ee=function(){var e=k(this).fragment;return e?"#"+e:""},Te=function(e,n){return{get:e,set:n,configurable:!0,enumerable:!0}};if(r&&c(Ue,{href:Te(Ce,(function(e){var n=k(this),t=String(e),a=xe(n,t);if(a)throw TypeError(a);y(n.searchParams).updateSearchParams(n.query)})),origin:Te(Le),protocol:Te(Ie,(function(e){var n=k(this);xe(n,String(e)+":",se)})),username:Te(Ge,(function(e){var n=k(this),t=f(String(e));if(!ee(n)){n.username="";for(var a=0;a<t.length;a++)n.username+=Z(t[a],Y)}})),password:Te(je,(function(e){var n=k(this),t=f(String(e));if(!ee(n)){n.password="";for(var a=0;a<t.length;a++)n.password+=Z(t[a],Y)}})),host:Te(qe,(function(e){var n=k(this);n.cannotBeABaseURL||xe(n,String(e),_e)})),hostname:Te(Oe,(function(e){var n=k(this);n.cannotBeABaseURL||xe(n,String(e),me)})),port:Te(Be,(function(e){var n=k(this);ee(n)||(e=String(e),""==e?n.port=null:xe(n,e,ve))})),pathname:Te(De,(function(e){var n=k(this);n.cannotBeABaseURL||(n.path=[],xe(n,e+"",we))})),search:Te(Fe,(function(e){var n=k(this);e=String(e),""==e?n.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),n.query="",xe(n,e,$e)),y(n.searchParams).updateSearchParams(n.query)})),searchParams:Te(Ne),hash:Te(Ee,(function(e){var n=k(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),n.fragment="",xe(n,e,Se)):n.fragment=null}))}),l(Ue,"toJSON",(function(){return Ce.call(this)}),{enumerable:!0}),l(Ue,"toString",(function(){return Ce.call(this)}),{enumerable:!0}),b){var Me=b.createObjectURL,Ve=b.revokeObjectURL;Me&&l(Re,"createObjectURL",(function(e){return Me.apply(b,arguments)})),Ve&&l(Re,"revokeObjectURL",(function(e){return Ve.apply(b,arguments)}))}_(Re,"URL"),i({global:!0,forced:!s,sham:!r},{URL:Re})},"4fc0":function(e,n,t){"use strict";t.r(n);var a=t("1da1"),i=t("d4ec"),r=t("bee2"),s=t("262e"),o=t("2caf"),c=(t("96cf"),t("7db0"),t("4de4"),t("caad"),t("2532"),t("a15b"),t("d81d"),t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("ac1f"),t("841c"),t("9ab4")),l=t("a026"),u=t("2fe1"),p=t("06a0"),h=t("08ba"),f=(t("8d79"),function(e){Object(s["a"])(t,e);var n=Object(o["a"])(t);function t(){var e;return Object(i["a"])(this,t),e=n.apply(this,arguments),e.isLoading=!0,e.isSwitchingSubscription=!1,e.currency=null,e.currentGoods=[],e.allGoodsDetail=[],e.subscribedGoods=[],e.dialogVisible=!1,e.switchSubscriptionGoods=null,e}return Object(r["a"])(t,[{key:"country",get:function(){return p["b"].info.company.country}},{key:"area",get:function(){return p["b"].info.company.area}},{key:"aaPackageConfig",get:function(){return this.GlobalConfig.config.aaPackage}},{key:"locale",get:function(){return this.$i18n.locale}},{key:"hasFinancePermission",get:function(){return!!p["b"].info.permissions["FinanceCenter"]}},{key:"hasCurAndDefGoods",get:function(){return this.currentGoods&&this.currentGoods.length&&this.currentGoods.find((function(e){return"Default"===e.mutexTag}))}},{key:"fetchAllGoodsDetail",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/api/v2/goods/details/all");case 2:n=e.sent,t=n.data,a="CN"===this.area?this.aaPackageConfig.allCustomUidsCN:this.aaPackageConfig.allCustomUidsNonCN,this.allGoodsDetail=t.filter((function(e){return a.includes(e.customUid)}));case 6:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"getCurrentOrders",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/api/v2/goods/company/order/all");case 2:n=e.sent,t=n.data,this.currentGoods=t;case 5:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"getCashInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasFinancePermission){e.next=7;break}return e.next=3,Object(h["b"])();case 3:n=e.sent,this.currency=n.accountCurrency,e.next=8;break;case 7:this.currency="CN"===this.area?"CNY":"USD";case 8:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"fetchSubscribedGoods",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/api/v2/goods/company/subscription/all");case 2:n=e.sent,t=n.data,this.subscribedGoods=t;case 5:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"postSwitchSubscriptionGoods",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("/api/v2/goods/company/subscription",{goodsId:n});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));function n(n){return e.apply(this,arguments)}return n}()},{key:"gotoBillingPage",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!(!this.currentGoods||!this.currentGoods.length),a=!(!this.subscribedGoods||!this.subscribedGoods.length),t||a){e.next=9;break}if(!this.aaPackageConfig.freeCustomUids.includes(n.customUid)){e.next=7;break}return e.next=6,this.payAAFree(n);case 6:return e.abrupt("return");case 7:return window.open("/packages/aa/pay?goodsId=".concat(n.goodsId)),e.abrupt("return");case 9:if(!t){e.next=14;break}if(i=_.some(this.currentGoods,(function(e){return e.goodsId===n.goodsId})),!i){e.next=14;break}return this.$message.warning(this.$t("AA_Pricing_Subscription_same_target_goods")),e.abrupt("return");case 14:return this.switchSubscriptionGoods=n,this.dialogVisible=!0,e.abrupt("return");case 17:case"end":return e.stop()}}),e,this)})));function n(n){return e.apply(this,arguments)}return n}()},{key:"onSwitchSubscription",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.switchSubscriptionGoods&&this.switchSubscriptionGoods.goodsId){e.next=2;break}return e.abrupt("return");case 2:return this.isSwitchingSubscription=!0,e.prev=3,e.next=6,this.postSwitchSubscriptionGoods(this.switchSubscriptionGoods.goodsId);case 6:this.$message.success(this.$t("AA_Pricing_Subscription_switch_success")),this.isSwitchingSubscription=!1,this.dialogVisible=!1,this.switchSubscriptionGoods=null,e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](3),this.$message.error(this.$t("AA_Pricing_Subscription_switch_failed")),e.abrupt("return");case 16:case"end":return e.stop()}}),e,this,[[3,12]])})));function n(){return e.apply(this,arguments)}return n}()},{key:"handleClose",value:function(){this.dialogVisible=!1}},{key:"formatContentByOptions",value:function(e,n){var t=n.filter((function(n){var t=n.value;return(e&1<<t)>0})).map((function(e){return e.label})).join(this.$t("AA_Pricing_comma"));return t}},{key:"getDataInsightGranularityContent",value:function(e){var n=[{label:this.$t("AA_Pricing_daily"),value:1},{label:this.$t("AA_Pricing_hourly"),value:2},{label:this.$t("AA_Pricing_minutely"),value:3}];return this.formatContentByOptions(e,n)}},{key:"payAAFree",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,t={goodsId:n.goodsId},e.next=5,this.$http.post("/api/v2/goods/order/free",t);case 5:return e.next=7,this.getCurrentOrders();case 7:return e.next=9,this.fetchSubscribedGoods();case 9:this.isLoading=!1,this.$message.success(this.$t("AA_Free_Subscription_success")),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),this.isLoading=!1,this.$message.error(this.$t("Payment fail"));case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));function n(n){return e.apply(this,arguments)}return n}()},{key:"mounted",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,this.getCashInfo();case 3:return e.t1=e.sent,e.next=6,this.getCurrentOrders();case 6:return e.t2=e.sent,e.next=9,this.fetchAllGoodsDetail();case 9:return e.t3=e.sent,e.next=12,this.fetchSubscribedGoods();case 12:e.t4=e.sent,e.t5=[e.t1,e.t2,e.t3,e.t4],e.t0.all.call(e.t0,e.t5),n=new URLSearchParams(location.search),h["a"].show({event:"AA_pricing",category:"AA_pricing_dashboard",payload:{source:n.get("source")}}),this.isLoading=!1;case 18:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()}]),t}(l["default"]));f=Object(c["a"])([Object(u["b"])({template:'\n    <div class="aa-pricing-page" v-loading="isLoading">\n      <header class="pricing-header">\n        <h1>{{ $t(\'AA_Pricing_title\') }}</h1>\n        <router-link v-if="hasFinancePermission" :to=\'{ name: "finance.packages" }\' class="el-button el-button--text">\n          {{ $t(\'AA_Pricing_current_package\') }}<i class="el-icon-arrow-right"></i>\n        </router-link>\n        <el-button v-else type="text" disabled\n          >{{ $t(\'AA_Pricing_current_package\') }}<i class="el-icon-arrow-right"></i\n        ></el-button>\n      </header>\n      <el-alert v-if="hasCurAndDefGoods" type="success" :closable="false" class="goods-alert-container">\n        <template solt="title"> <i class="el-icon-goods"></i>{{ $t(\'AA_Pricing_current_package_tips\') }} </template>\n      </el-alert>\n      <div class="pricing-desc-container">\n        <p v-html="$t(\'AA_Pricing_desc\')"></p>\n        <p v-if="country === \'JP\'">\n          For the pricing in Japan, please contact Agora\'s regional partner,\n          <a href="https://jp.vcube.com/service/agora" target="_blank">V-cube</a>.\n        </p>\n      </div>\n      <el-row v-if="!isLoading && allGoodsDetail.length" class="pricing-table-container">\n        <el-col :span="4">\n          <span class="table-header header-tips" v-html="$t(\'AA_Pricing_tips\', { day: 30 })"></span>\n          <span class="product-group">{{ $t(\'AA_Pricing_CallSearch\') }}</span>\n          <span>{{ $t(\'AA_Pricing_GUI\') }}</span>\n          <span>{{ $t(\'AA_Pricing_storage\') }}</span>\n          <span>{{ $t(\'AA_Pricing_api\') }}</span>\n          <span>{{ $t(\'AA_Pricing_embed\') }}</span>\n          <span>{{ $t(\'AA_Pricing_CallSearch_permanent\') }}</span>\n\n          <span class="product-group">{{ $t(\'AA_Pricing_RealtimeMonitoring\') }}</span>\n          <span>{{ $t(\'AA_Pricing_GUI\') }}</span>\n          <span>{{ $t(\'AA_Pricing_api\') }}</span>\n          <span>{{ $t(\'AA_Pricing_sampling\') }}</span>\n          <span>{{ $t(\'AA_Pricing_embed\') }}</span>\n\n          <span class="product-group">{{ $t(\'AA_Pricing_DataInsights\') }}</span>\n          <span>{{ $t(\'AA_Pricing_GUI\') }}</span>\n          <span>{{ $t(\'AA_Pricing_storage\') }}</span>\n          <span>{{ $t(\'AA_Pricing_api\') }}</span>\n          <span>{{ $t(\'AA_Pricing_DataInsights_granularity\') }}</span>\n          <span>{{ $t(\'AA_Pricing_DataInsights_delay\') }}</span>\n          <span>{{ $t(\'AA_Pricing_DataInsights_sampling\') }}</span>\n          <span>{{ $t(\'AA_Pricing_embed\') }}</span>\n\n          <template v-if="area !== \'CN\'">\n            <span class="product-group">{{ $t(\'AA_Pricing_Notification\') }}</span>\n            <span>{{ $t(\'AA_Pricing_GUI\') }}</span>\n            <span>{{ $t(\'AA_Pricing_embed\') }}</span>\n          </template>\n\n          <template v-if="area !== \'CN\'">\n            <span class="product-group">{{ $t(\'AA_Pricing_Bigsession\') }}</span>\n            <span>{{ $t(\'AA_Pricing_GUI\') }}</span>\n          </template>\n\n          <span class="product-group">{{ $t(\'AA_Pricing_Usage\') }}</span>\n          <span>{{ $t(\'AA_Pricing_CallSearch_RTC_excess_usage\') }} {{ area !== \'CN\' ? \' *\' : \'\' }}</span>\n          <span>{{ $t(\'AA_Pricing_CallSearch_RTC_excess_price\') }}</span>\n        </el-col>\n        <el-col\n          :span="5"\n          v-for="goods in allGoodsDetail"\n          :key="goods.goodsId"\n          :class=\'{"goods-col": true, "is-hightlight": goods.config.is_recommend}\'\n        >\n          <span class="table-header">\n            <p class="goods-name">{{ locale === \'en\' ? goods.config.goods_name_en : goods.config.goods_name_zh }}</p>\n            <div class="goods-pricing-monthly">\n              <div class="reference-price">\n                <span class="price">{{ goods.price[currency].realPrice | formatMoney(currency) }}</span>\n                <span class="monthly-unit">/ {{ $t(\'AA_Pricing_price_monthly\') }}</span>\n              </div>\n              <div v-if="goods.config.show_reference_price" class="real-price">\n                {{ goods.price[currency].referencePrice | formatMoney(currency) }} /\n                {{ $t(\'AA_Pricing_price_monthly\') }}\n              </div>\n            </div>\n            <template v-if="goods.config.self_purchasable">\n              <el-button\n                v-if="hasFinancePermission"\n                class="goods-buy-button"\n                :type=\'goods.config.is_recommend ? "primary" : ""\'\n                @click="gotoBillingPage(goods)"\n              >\n                {{ $t(\'AA_Pricing_buy_button\') }}\n              </el-button>\n              <span v-else class="contact-others">{{ $t(\'AA_Pricing_Subscription_no_permission\') }}</span>\n            </template>\n            <template v-else>\n              <span class="contact-others">{{ $t(\'AA_Pricing_contact_salse\') }}</span>\n            </template>\n          </span>\n          \x3c!-- 通话调查 --\x3e\n          <span class="product-group"></span>\n          <span>\n            <template v-if="goods.config.call_search_gui_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>{{ goods.config.call_search_storage_days }} {{ $t(\'AA_Pricing_price_day\') }}</span>\n          <span class="with-info-tooltip">\n            <template v-if="goods.config.call_search_api_link">\n              <i class="el-icon-check"></i>\n              <el-tooltip placement="top" popper-class="pricing-table-info-tooltip">\n                <template slot="content">\n                  <a :href="goods.config.call_search_api_link" target="_blank">{{ $t(\'AA_Pricing_api_desc\') }}</a>\n                </template>\n                <i class="el-icon-info api-docs-link"></i>\n              </el-tooltip>\n            </template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>\n            <template v-if="goods.config.call_search_embed_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>\n            <template v-if="goods.config.call_search_permanent_uids">\n              {{ $t(\'AA_Pricing_CallSearch_permanent_uids\', { count: goods.config.call_search_permanent_uids }) }}\n            </template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n\n          \x3c!-- 实时监控 --\x3e\n          <span class="product-group"></span>\n          <span>\n            <template v-if="goods.config.realtime_monitoring_gui_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span class="with-info-tooltip">\n            <template v-if="goods.config.realtime_monitoring_api_link">\n              <i class="el-icon-check"></i>\n              <el-tooltip placement="top" popper-class="pricing-table-info-tooltip">\n                <template slot="content">\n                  <a :href="goods.config.realtime_monitoring_api_link" target="_blank">{{\n                    $t(\'AA_Pricing_api_desc\')\n                  }}</a>\n                </template>\n                <i class="el-icon-info api-docs-link"></i>\n              </el-tooltip>\n            </template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>\n            <template v-if="goods.config.realtime_monitoring_sampling_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>\n            <template v-if="goods.config.realtime_monitoring_embed_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n\n          \x3c!-- 数据洞察 --\x3e\n          <span class="product-group"></span>\n          <span>\n            <template v-if="goods.config.data_insights_gui_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>\n            <template v-if="goods.config.data_insights_storage_days">\n              {{ goods.config.data_insights_storage_days }} {{ $t(\'AA_Pricing_price_day\') }}\n            </template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span class="with-info-tooltip">\n            <template v-if="goods.config.data_insights_api_link">\n              <i class="el-icon-check"></i>\n              <el-tooltip placement="top" popper-class="pricing-table-info-tooltip">\n                <template slot="content">\n                  <a :href="goods.config.data_insights_api_link" target="_blank">{{ $t(\'AA_Pricing_api_desc\') }}</a>\n                </template>\n                <i class="el-icon-info api-docs-link"></i>\n              </el-tooltip>\n            </template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span class="double-line">\n            <template v-if="goods.config.data_insights_storage_days">\n              <span>\n                {{ $t(\'AA_Pricing_DataInsight_Usage\') }}{{ $t(\'AA_Pricing_colon\') }}\n                {{ getDataInsightGranularityContent(goods.config.data_insights_usage_granularity) }}\n              </span>\n              <span>\n                {{ $t(\'AA_Pricing_DataInsight_Quality\') }}{{ $t(\'AA_Pricing_colon\') }}\n                {{ getDataInsightGranularityContent(goods.config.data_insights_quality_granularity) }}\n              </span>\n            </template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span class="double-line">\n            <template v-if="goods.config.data_insights_storage_days">\n              <span>\n                {{ $t(\'AA_Pricing_DataInsight_Usage\') }}{{ $t(\'AA_Pricing_colon\') }}\n                {{ $t(\'AA_Pricing_DataInsight_Latency_Hours\', { h: goods.config.data_insights_usage_delay_hours }) }}\n              </span>\n              <span>\n                {{ $t(\'AA_Pricing_DataInsight_Quality\') }}{{ $t(\'AA_Pricing_colon\') }}\n                {{ $t(\'AA_Pricing_DataInsight_Latency_Hours\', { h: goods.config.data_insights_quality_delay_hours }) }}\n              </span>\n            </template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>\n            <template v-if="goods.config.data_insights_sampling_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n          <span>\n            <template v-if="goods.config.data_insights_embed_enabled"><i class="el-icon-check"></i></template>\n            <template v-else><i class="el-icon-close"></i></template>\n          </span>\n\n          \x3c!-- 告警通知 --\x3e\n          <template v-if="area !== \'CN\'">\n            <span class="product-group"></span>\n            <span>\n              <template v-if="goods.config.notification_gui_enabled"><i class="el-icon-check"></i></template>\n              <template v-else><i class="el-icon-close"></i></template>\n            </span>\n            <span>\n              <template v-if="goods.config.notification_embed_enabled"><i class="el-icon-check"></i></template>\n              <template v-else><i class="el-icon-close"></i></template>\n            </span>\n          </template>\n\n          \x3c!-- 大频道 --\x3e\n          <template v-if="area !== \'CN\'">\n            <span class="product-group"></span>\n            <span>\n              <template v-if="goods.config.bigsession_gui_enabled"><i class="el-icon-check"></i></template>\n              <template v-else><i class="el-icon-close"></i></template>\n            </span>\n          </template>\n\n          \x3c!-- 用量情况 --\x3e\n          <span class="product-group"></span>\n          <span>\n            <template v-if="goods.config.prepaid_rtc_mins_en && goods.config.prepaid_rtc_mins_zh">\n              {{ locale === \'en\' ? goods.config.prepaid_rtc_mins_en : goods.config.prepaid_rtc_mins_zh }}\n              {{ $t(\'AA_Pricing_price_mins_montyly\') }}\n            </template>\n            <template v-else>{{ $t(\'AA_Pricing_CallSearch_RTC_excess_usage_unlimit\') }} </template>\n          </span>\n          <span>\n            <template v-if="goods.config.prepaid_rtc_mins_en && goods.config.prepaid_rtc_mins_zh">\n              {{ currency === \'CNY\' ? goods.config.paid_excess_rtc_unit_account_cny : goods.config.paid_excess_rtc_unit_account_usd | formatMoney(currency) }}\n              / {{ goods.config.paid_excess_rtc_unit_mins }} {{ $t(\'AA_Pricing_price_minute\') }}\n            </template>\n            <template v-else>-</template>\n          </span>\n        </el-col>\n      </el-row>\n      <div v-if="area !== \'CN\'" class="pricing-tips">\n        <span>{{ $t(\'AA_Pricing_other_tips\') }}</span>\n      </div>\n      <el-dialog\n        :title="$t(\'AA_Pricing_Subscription_switch_title\')"\n        :visible.sync="dialogVisible"\n        width="400"\n        :before-close="handleClose"\n      >\n        <span v-html="$t(\'AA_Pricing_Subscription_switch_tips\')"></span>\n        <span slot="footer" class="dialog-footer">\n          <el-button @click="dialogVisible = false">{{ $t(\'AA_Pricing_Subscription_switch_cancel\') }}</el-button>\n          <el-button type="primary" @click="onSwitchSubscription()" :loading="isSwitchingSubscription">{{\n            $t(\'AA_Pricing_Subscription_switch_confirm\')\n          }}</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  '})],f),n["default"]=f},"5fb2":function(e,n,t){"use strict";var a=2147483647,i=36,r=1,s=26,o=38,c=700,l=72,u=128,p="-",h=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",d=i-r,_=Math.floor,m=String.fromCharCode,v=function(e){var n=[],t=0,a=e.length;while(t<a){var i=e.charCodeAt(t++);if(i>=55296&&i<=56319&&t<a){var r=e.charCodeAt(t++);56320==(64512&r)?n.push(((1023&i)<<10)+(1023&r)+65536):(n.push(i),t--)}else n.push(i)}return n},b=function(e){return e+22+75*(e<26)},A=function(e,n,t){var a=0;for(e=t?_(e/c):e>>1,e+=_(e/n);e>d*s>>1;a+=i)e=_(e/d);return _(a+(d+1)*e/(e+o))},y=function(e){var n=[];e=v(e);var t,o,c=e.length,h=u,f=0,d=l;for(t=0;t<e.length;t++)o=e[t],o<128&&n.push(m(o));var y=n.length,w=y;y&&n.push(p);while(w<c){var k=a;for(t=0;t<e.length;t++)o=e[t],o>=h&&o<k&&(k=o);var P=w+1;if(k-h>_((a-f)/P))throw RangeError(g);for(f+=(k-h)*P,h=k,t=0;t<e.length;t++){if(o=e[t],o<h&&++f>a)throw RangeError(g);if(o==h){for(var $=f,S=i;;S+=i){var x=S<=d?r:S>=d+s?s:S-d;if($<x)break;var R=$-x,U=i-x;n.push(m(b(x+R%U))),$=_(R/U)}n.push(m(b($))),d=A(f,P,w==y),f=0,++w}}++f,++h}return n.join("")};e.exports=function(e){var n,t,a=[],i=e.toLowerCase().replace(f,".").split(".");for(n=0;n<i.length;n++)t=i[n],a.push(h.test(t)?"xn--"+y(t):t);return a.join(".")}},"841c":function(e,n,t){"use strict";var a=t("d784"),i=t("825a"),r=t("1d80"),s=t("129f"),o=t("14c3");a("search",1,(function(e,n,t){return[function(n){var t=r(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,t):new RegExp(n)[e](String(t))},function(e){var a=t(n,e,this);if(a.done)return a.value;var r=i(e),c=String(this),l=r.lastIndex;s(l,0)||(r.lastIndex=0);var u=o(r,c);return s(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]}))},"8d79":function(e,n,t){},9861:function(e,n,t){"use strict";t("e260");var a=t("23e7"),i=t("d066"),r=t("0d3b"),s=t("6eeb"),o=t("e2cc"),c=t("d44e"),l=t("9ed3"),u=t("69f3"),p=t("19aa"),h=t("5135"),f=t("0366"),g=t("f5df"),d=t("825a"),_=t("861d"),m=t("7c73"),v=t("5c6c"),b=t("9a1f"),A=t("35a1"),y=t("b622"),w=i("fetch"),k=i("Headers"),P=y("iterator"),$="URLSearchParams",S=$+"Iterator",x=u.set,R=u.getterFor($),U=u.getterFor(S),C=/\+/g,L=Array(4),I=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},G=function(e){try{return decodeURIComponent(e)}catch(n){return e}},j=function(e){var n=e.replace(C," "),t=4;try{return decodeURIComponent(n)}catch(a){while(t)n=n.replace(I(t--),G);return n}},q=/[!'()~]|%20/g,O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e){return O[e]},D=function(e){return encodeURIComponent(e).replace(q,B)},F=function(e,n){if(n){var t,a,i=n.split("&"),r=0;while(r<i.length)t=i[r++],t.length&&(a=t.split("="),e.push({key:j(a.shift()),value:j(a.join("="))}))}},N=function(e){this.entries.length=0,F(this.entries,e)},E=function(e,n){if(e<n)throw TypeError("Not enough arguments")},T=l((function(e,n){x(this,{type:S,iterator:b(R(e).entries),kind:n})}),"Iterator",(function(){var e=U(this),n=e.kind,t=e.iterator.next(),a=t.value;return t.done||(t.value="keys"===n?a.key:"values"===n?a.value:[a.key,a.value]),t})),M=function(){p(this,M,$);var e,n,t,a,i,r,s,o,c,l=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(x(u,{type:$,entries:f,updateURL:function(){},updateSearchParams:N}),void 0!==l)if(_(l))if(e=A(l),"function"===typeof e){n=e.call(l),t=n.next;while(!(a=t.call(n)).done){if(i=b(d(a.value)),r=i.next,(s=r.call(i)).done||(o=r.call(i)).done||!r.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:s.value+"",value:o.value+""})}}else for(c in l)h(l,c)&&f.push({key:c,value:l[c]+""});else F(f,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},V=M.prototype;o(V,{append:function(e,n){E(arguments.length,2);var t=R(this);t.entries.push({key:e+"",value:n+""}),t.updateURL()},delete:function(e){E(arguments.length,1);var n=R(this),t=n.entries,a=e+"",i=0;while(i<t.length)t[i].key===a?t.splice(i,1):i++;n.updateURL()},get:function(e){E(arguments.length,1);for(var n=R(this).entries,t=e+"",a=0;a<n.length;a++)if(n[a].key===t)return n[a].value;return null},getAll:function(e){E(arguments.length,1);for(var n=R(this).entries,t=e+"",a=[],i=0;i<n.length;i++)n[i].key===t&&a.push(n[i].value);return a},has:function(e){E(arguments.length,1);var n=R(this).entries,t=e+"",a=0;while(a<n.length)if(n[a++].key===t)return!0;return!1},set:function(e,n){E(arguments.length,1);for(var t,a=R(this),i=a.entries,r=!1,s=e+"",o=n+"",c=0;c<i.length;c++)t=i[c],t.key===s&&(r?i.splice(c--,1):(r=!0,t.value=o));r||i.push({key:s,value:o}),a.updateURL()},sort:function(){var e,n,t,a=R(this),i=a.entries,r=i.slice();for(i.length=0,t=0;t<r.length;t++){for(e=r[t],n=0;n<t;n++)if(i[n].key>e.key){i.splice(n,0,e);break}n===t&&i.push(e)}a.updateURL()},forEach:function(e){var n,t=R(this).entries,a=f(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<t.length)n=t[i++],a(n.value,n.key,this)},keys:function(){return new T(this,"keys")},values:function(){return new T(this,"values")},entries:function(){return new T(this,"entries")}},{enumerable:!0}),s(V,P,V.entries),s(V,"toString",(function(){var e,n=R(this).entries,t=[],a=0;while(a<n.length)e=n[a++],t.push(D(e.key)+"="+D(e.value));return t.join("&")}),{enumerable:!0}),c(M,$),a({global:!0,forced:!r},{URLSearchParams:M}),r||"function"!=typeof w||"function"!=typeof k||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var n,t,a,i=[e];return arguments.length>1&&(n=arguments[1],_(n)&&(t=n.body,g(t)===$&&(a=n.headers?new k(n.headers):new k,a.has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=m(n,{body:v(0,String(t)),headers:v(0,a)}))),i.push(n)),w.apply(this,i)}}),e.exports={URLSearchParams:M,getState:R}},"9a1f":function(e,n,t){var a=t("825a"),i=t("35a1");e.exports=function(e){var n=i(e);if("function"!=typeof n)throw TypeError(String(e)+" is not iterable");return a(n.call(e))}}}]);